{"version":3,"sources":["amplitude-range.tsx"],"names":["React","View","Text","StyleSheet","palette","AmplitudeRange","props","min","max","minAmplitude","maxAmplitude","color","gray_200","height","backgroundColor","gray_300","highlightedPercentage","Math","abs","offset","initialMarkPosition","x","y","width","valueMarkerPosition","setValueMarkerPosition","useState","highlightedBar","useRef","useEffect","current","measure","style","flexGrow","borderRadius","overflow","position","top","bottom","left","styles","markerTextContainer","markerText","create","gray_400","fontWeight","alignItems"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { View, Text, StyleSheet } from 'react-native';\nimport { palette } from './colors';\n\nexport interface AmplitudeRangeProps {\n  color?: string,\n  backgroundColor?: string,\n  min: number,\n  max: number,\n  minAmplitude: number,\n  maxAmplitude: number,\n  influence: number,\n  range: number,\n  height?: number,\n  style?: object\n}\n\nexport default function AmplitudeRange(props: AmplitudeRangeProps) {\n\n  const { min = 0, max = 100, minAmplitude = 10, maxAmplitude = 90, color = palette.gray_200, height = 16, backgroundColor = palette.gray_300 } = props\n\n  const highlightedPercentage = `${Math.abs(maxAmplitude - minAmplitude) / Math.abs(max-min) * 100}%`\n  \n  const offset = `${Math.abs(minAmplitude - min) /Math.abs(max-min) * 100}%`\n\n  const initialMarkPosition = {\n    x: 0,\n    y: 0,\n    width: 0,\n    height: 0,\n  }\n\n  const [valueMarkerPosition, setValueMarkerPosition] = React.useState(initialMarkPosition)\n\n  const highlightedBar = React.useRef()\n\n  React.useEffect(() => {\n    highlightedBar.current.measure((x, y, width, height) => {\n      setValueMarkerPosition({ x, y, width, height })\n    })\n  }, [minAmplitude, maxAmplitude])\n\n  return (\n    <View style={{ width: '100%', ...props.style }}>\n      <View style={{ \n          flexGrow: 1, \n          height, \n          backgroundColor, \n          borderRadius: 8, \n          overflow: 'hidden'\n        }}>\n        {/* Highlighted Bar */}\n        <View\n          ref={highlightedBar}\n          style={{\n            position: 'absolute', \n            top: 0, \n            bottom: 0, \n            backgroundColor: color,\n            left: offset, \n            width: highlightedPercentage\n          }}\n        />\n      </View>\n      <View style={[styles.markerTextContainer, { left: valueMarkerPosition.x - 10 }]}>\n        <Text style={styles.markerText}>{minAmplitude}</Text>\n      </View>\n      <View style={[styles.markerTextContainer, { left: valueMarkerPosition.x - 10 + valueMarkerPosition.width }]}>\n        <Text style={styles.markerText}>{maxAmplitude}</Text>\n      </View>\n    </View>\n  )\n}\n\nconst styles = StyleSheet.create({\n  markerText: {\n    color: palette.gray_400,\n    fontWeight: 'bold'\n  },\n  markerTextContainer: {\n    position: 'absolute', \n    top: 14, \n    width: 20, \n    overflow: 'visible', \n    alignItems: 'center'\n  }\n})"]}